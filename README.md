# Grafana AI Assistant

–ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã–π –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–µ–π Grafana, –∏—Å–ø–æ–ª—å–∑—É—é—â–∏–π —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ Retrieval-Augmented Generation (RAG) –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é —Å YouTube —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ç–∞–º–∏.

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Node.js 18+ 
- npm –∏–ª–∏ yarn
- –ê–∫–∫–∞—É–Ω—Ç GigaChat (–¥–ª—è AI –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞)
- Supabase (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∏—Å—Ç–æ—Ä–∏–∏ —á–∞—Ç–æ–≤)

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞

1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:
```bash
git clone <repository-url>
cd g12_assistant
```

2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
```bash
npm install
```

3. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env.local` –Ω–∞ –æ—Å–Ω–æ–≤–µ `env.local.example`:
```bash
cp env.local.example .env.local
```

4. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (—Å–º. —Ä–∞–∑–¥–µ–ª –Ω–∏–∂–µ)

5. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:
```bash
npm run dev
```

6. –û—Ç–∫—Ä–æ–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä –ø–æ –∞–¥—Ä–µ—Å—É: `http://localhost:3000`

## üìã –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (.env.local)

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env.local` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ —Å–æ —Å–ª–µ–¥—É—é—â–∏–º–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏:

### Supabase (–¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∏—Å—Ç–æ—Ä–∏–∏ —á–∞—Ç–æ–≤)

```env
NEXT_PUBLIC_SUPABASE_URL=your-supabase-url
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-supabase-anon-key
```

### GigaChat AI (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)

```env
GIGACHAT_CLIENT_ID=your-client-id
GIGACHAT_CLIENT_SECRET=your-client-secret
GIGACHAT_SCOPE=GIGACHAT_API_PERS
GIGACHAT_MODEL=GigaChat/GigaChat-Pro
```

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** GigaChat –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–∞–º–æ–ø–æ–¥–ø–∏—Å–∞–Ω–Ω—ã–µ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã. –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –ø—Ä–æ–≤–µ—Ä–∫–∞ –æ—Ç–∫–ª—é—á–µ–Ω–∞. –î–ª—è –≤–∫–ª—é—á–µ–Ω–∏—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ:

```env
GIGACHAT_REJECT_UNAUTHORIZED=true
```

### YouTube RAG (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

```env
# YouTube –≤–∏–¥–µ–æ –¥–ª—è RAG (—á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é, –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å ID –∏–ª–∏ –ø–æ–ª–Ω—ã–µ URL)
YOUTUBE_VIDEO_IDS=VIDEO_ID_1,VIDEO_ID_2,https://www.youtube.com/watch?v=VIDEO_ID_3
```

**–ü—Ä–∏–º–µ—Ä:**
```env
YOUTUBE_VIDEO_IDS=HNCKbGfAU0Q,sGHKY0VmbLw,https://www.youtube.com/watch?v=bmOkirtC65w
```

## üß† RAG (Retrieval-Augmented Generation)

–ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π RAG –ø–æ–¥—Ö–æ–¥, –æ–±—ä–µ–¥–∏–Ω—è—é—â–∏–π –Ω–µ—Å–∫–æ–ª—å–∫–æ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –∑–Ω–∞–Ω–∏–π:

### 1. Grafana Documentation RAG

**–ò—Å—Ç–æ—á–Ω–∏–∫:** –°—Ç–∞—Ç–∏—á–µ—Å–∫–∞—è –±–∞–∑–∞ –∑–Ω–∞–Ω–∏–π –æ Grafana12

**–°–æ–¥–µ—Ä–∂–∏—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ:**
- Getting Started (—É—Å—Ç–∞–Ω–æ–≤–∫–∞, –Ω–∞—Å—Ç—Ä–æ–π–∫–∞)
- Data Sources (Prometheus, InfluxDB, MySQL, PostgreSQL, Elasticsearch)
- Dashboards (—Å–æ–∑–¥–∞–Ω–∏–µ, –ø–∞–Ω–µ–ª–∏, –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏)
- Alerts (–ø—Ä–∞–≤–∏–ª–∞, —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è)
- Queries (PromQL, SQL, —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–∏)
- Plugins (—É—Å—Ç–∞–Ω–æ–≤–∫–∞, —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞)
- Authentication (OAuth, LDAP, SAML)
- API (–∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è, REST endpoints)

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:** `lib/grafana-docs.ts` ‚Üí `lib/chat-service/providers/grafana-rag-provider.ts`

### 2. YouTube Transcripts RAG

**–ò—Å—Ç–æ—á–Ω–∏–∫:** –¢—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ç—ã YouTube –≤–∏–¥–µ–æ –æ Grafana

**–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ç–æ–≤ –∏–∑ YouTube –≤–∏–¥–µ–æ
- –†–∞–∑–±–∏–µ–Ω–∏–µ –Ω–∞ —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–µ —á–∞–Ω–∫–∏ (chunks)
- –ü–æ–∏—Å–∫ –ø–æ —Å–æ–¥–µ—Ä–∂–∏–º–æ–º—É –≤–∏–¥–µ–æ
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –≤–∏–¥–µ–æ
- –ò–º–ø–æ—Ä—Ç —á–µ—Ä–µ–∑ UI –∏–ª–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:** 
- `lib/youtube-transcript.ts` - –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ç–æ–≤
- `lib/youtube-rag-provider.ts` - RAG –ø—Ä–æ–≤–∞–π–¥–µ—Ä –¥–ª—è YouTube
- `lib/chat-service/providers/combined-rag-provider.ts` - –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤

**–î–æ–±–∞–≤–ª–µ–Ω–Ω—ã–µ –≤–∏–¥–µ–æ:**
- `HNCKbGfAU0Q` - "Create your Business Grafana dashboard | Step by step for analysts"
- –î—Ä—É–≥–∏–µ –≤–∏–¥–µ–æ –∏–∑ `YOUTUBE_VIDEO_IDS`

### 3. Combined RAG Provider

–û–±—ä–µ–¥–∏–Ω—è–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏–∑ –≤—Å–µ—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—è:
- –ü—Ä–∏–æ—Ä–∏—Ç–∏–∑–∞—Ü–∏—é –ø–æ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç–∏
- –î–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—é —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- –†–∞–∑–Ω–æ–æ–±—Ä–∞–∑–∏–µ –æ—Ç–≤–µ—Ç–æ–≤ (–¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å–ª—É—á–∞–π–Ω–æ–≥–æ —Ñ–∞–∫—Ç–æ—Ä–∞)
- –ü–æ–¥–¥–µ—Ä–∂–∫—É –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:** `lib/chat-service/providers/combined-rag-provider.ts`

## ü§ñ AI –ü—Ä–æ–≤–∞–π–¥–µ—Ä: GigaChat

–ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **GigaChat** (—Ä–æ—Å—Å–∏–π—Å–∫–∞—è LLM –æ—Ç –°–±–µ—Ä–∞) –≤ –∫–∞—á–µ—Å—Ç–≤–µ AI –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞.

### –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏:

- **OAuth –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è** —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º —Ç–æ–∫–µ–Ω–æ–≤
- **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤** –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –∑–∞–ø—Ä–æ—Å–æ–≤
- **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫** —Å fallback –Ω–∞ mock-–æ—Ç–≤–µ—Ç—ã
- **–¢–∞–π–º–∞—É—Ç—ã** –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –∑–∞–≤–∏—Å–∞–Ω–∏–π (10s –¥–ª—è auth, 30s –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏)
- **SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã** - –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Å–∞–º–æ–ø–æ–¥–ø–∏—Å–∞–Ω–Ω—ã—Ö —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤ GigaChat

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:** 
- `lib/gigachat.ts` - –∫–ª–∏–µ–Ω—Ç GigaChat API
- `lib/chat-service/providers/gigachat-provider.ts` - –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å chat-service

**–ú–æ–¥–µ–ª—å:** `GigaChat/GigaChat-Pro` (–Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ `GIGACHAT_MODEL`)

## üß™ –ü—Ä–æ–º–ø—Ç—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ RAG

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–∞–∑–æ–≤–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ Grafana

```
–ö–∞–∫ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Grafana?
```

```
–ö–∞–∫–∏–µ data sources –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç Grafana?
```

```
–ö–∞–∫ —Å–æ–∑–¥–∞—Ç—å dashboard –≤ Grafana?
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ YouTube RAG (—Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –¥–µ—Ç–∞–ª–∏ –∏–∑ –≤–∏–¥–µ–æ)

```
–ö–∞–∫ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å PostgreSQL –∫–∞–∫ data source –≤ Grafana?
```

```
–ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å host.docker.internal –¥–ª—è PostgreSQL?
```

```
–ö–∞–∫ —Å–æ–∑–¥–∞—Ç—å bar gauge —Å –¥–≤—É–º—è –∑–∞–ø—Ä–æ—Å–∞–º–∏ –≤ Grafana?
```

```
–ö–∞–∫ –¥–æ–±–∞–≤–∏—Ç—å PDF –¥–æ–∫—É–º–µ–Ω—Ç—ã –≤ –¥–∞—à–±–æ—Ä–¥ Grafana?
```

```
–ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Base64/PDF plugin –≤ Grafana?
```

```
–ö–∞–∫ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å Geo Map –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—é —Å latitude –∏ longitude?
```

```
–ö–∞–∫ —Å–æ–∑–¥–∞—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã –ø–æ –ø—Ä–æ–¥—É–∫—Ç–∞–º –≤ Grafana –¥–∞—à–±–æ—Ä–¥–µ?
```

```
–ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Å dollar sign –≤ –∑–∞–ø—Ä–æ—Å–∞—Ö?
```

```
–ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Config from query results transformation?
```

```
–ö–∞–∫ —Å–æ–∑–¥–∞—Ç—å single stat —Å —Ü–≤–µ—Ç–æ–≤—ã–º –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ–º?
```

```
–ö–∞–∫ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å Clock –ø–∞–Ω–µ–ª—å —Å time zone?
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∑–Ω–∞–Ω–∏–π

```
–†–∞—Å—Å–∫–∞–∂–∏ –ø—Ä–æ –≤—Å–µ —à–∞–≥–∏ —Å–æ–∑–¥–∞–Ω–∏—è –±–∏–∑–Ω–µ—Å –¥–∞—à–±–æ—Ä–¥–∞ –≤ Grafana
```

```
–ö–∞–∫ —Å–æ–∑–¥–∞—Ç—å –¥–∞—à–±–æ—Ä–¥ —Å sales per month, bar gauges –∏ geomap?
```

```
–ö–∞–∫ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å Grafana –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –ø—Ä–æ–¥–∞–∂?
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã—Ö —Ç–µ—Ä–º–∏–Ω–æ–≤ –∏–∑ –≤–∏–¥–µ–æ

```
–ß—Ç–æ —Ç–∞–∫–æ–µ Grafana row –∏ –∫–∞–∫ –µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å?
```

```
–ö–∞–∫ –∏–∑–º–µ–Ω–∏—Ç—å UI Theme –Ω–∞ light –≤ Grafana?
```

```
–ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å RetroLCD style –¥–ª—è bar gauge?
```

## üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ AI

### 1. Retrieval-Augmented Generation (RAG)

**–û–ø–∏—Å–∞–Ω–∏–µ:** –ì–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–¥—Ö–æ–¥, –æ–±—ä–µ–¥–∏–Ω—è—é—â–∏–π –ø–æ–∏—Å–∫ –ø–æ –±–∞–∑–µ –∑–Ω–∞–Ω–∏–π –∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏—é –æ—Ç–≤–µ—Ç–æ–≤ LLM.

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- –¢–æ—á–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã –Ω–∞ –æ—Å–Ω–æ–≤–µ –∞–∫—Ç—É–∞–ª—å–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∑–Ω–∞–Ω–∏–π –±–µ–∑ –ø–µ—Ä–µ–æ–±—É—á–µ–Ω–∏—è –º–æ–¥–µ–ª–∏
- –ü—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
- –°–Ω–∏–∂–µ–Ω–∏–µ –≥–∞–ª–ª—é—Ü–∏–Ω–∞—Ü–∏–π LLM

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
- –°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫ –ø–æ –∫–ª—é—á–µ–≤—ã–º —Å–ª–æ–≤–∞–º –∏ —Å–æ–¥–µ—Ä–∂–∏–º–æ–º—É
- –†–∞–Ω–∂–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç–∏ (scoring)
- –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–µ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –∏–∑ —Ä–∞–∑–Ω—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤

### 2. GigaChat LLM

**–û–ø–∏—Å–∞–Ω–∏–µ:** –†–æ—Å—Å–∏–π—Å–∫–∞—è –±–æ–ª—å—à–∞—è —è–∑—ã–∫–æ–≤–∞—è –º–æ–¥–µ–ª—å –æ—Ç –°–±–µ—Ä–∞.

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–æ–≤ –Ω–∞ –æ—Å–Ω–æ–≤–µ RAG –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
- –ü–æ–Ω–∏–º–∞–Ω–∏–µ –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ —è–∑—ã–∫–∞
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä—É—Å—Å–∫–æ–≥–æ –∏ –∞–Ω–≥–ª–∏–π—Å–∫–æ–≥–æ —è–∑—ã–∫–æ–≤
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ REST API

**–ú–æ–¥–µ–ª—å:** `GigaChat-Pro` (–Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è)

### 3. YouTube Transcript Extraction

**–û–ø–∏—Å–∞–Ω–∏–µ:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ç–æ–≤ YouTube –≤–∏–¥–µ–æ.

**–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏:**
- `youtube-transcript` - –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ç–æ–≤
- –†–∞–∑–±–∏–µ–Ω–∏–µ –Ω–∞ —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–µ —á–∞–Ω–∫–∏ (chunks)
- –ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–∏—Å–∫–∞

### 4. Semantic Search

**–û–ø–∏—Å–∞–Ω–∏–µ:** –ü–æ–∏—Å–∫ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞ –∑–∞–ø—Ä–æ—Å–∞.

**–ê–ª–≥–æ—Ä–∏—Ç–º:**
- –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤ –∏–∑ –∑–∞–ø—Ä–æ—Å–∞
- –°–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ —Å –∫–ª—é—á–µ–≤—ã–º–∏ —Å–ª–æ–≤–∞–º–∏ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
- –°–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ —Å —Å–æ–¥–µ—Ä–∂–∏–º—ã–º –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
- –†–∞–Ω–∂–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç–∏ (score)
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å–ª—É—á–∞–π–Ω–æ–≥–æ —Ñ–∞–∫—Ç–æ—Ä–∞ –¥–ª—è —Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–∏—è

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
g12_assistant/
‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îú‚îÄ‚îÄ api/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ chat/route.ts          # –û—Å–Ω–æ–≤–Ω–æ–π API —á–∞—Ç–∞
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ youtube/
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ import/route.ts     # –ò–º–ø–æ—Ä—Ç YouTube –≤–∏–¥–µ–æ
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ rag-content/route.ts # –ü—Ä–æ—Å–º–æ—Ç—Ä RAG —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ
‚îÇ   ‚îú‚îÄ‚îÄ youtube-rag/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ page.tsx                # UI –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ YouTube RAG
‚îÇ   ‚îú‚îÄ‚îÄ layout.tsx
‚îÇ   ‚îî‚îÄ‚îÄ page.tsx                    # –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å —á–∞—Ç–æ–º
‚îú‚îÄ‚îÄ lib/
‚îÇ   ‚îú‚îÄ‚îÄ chat-service/               # –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π –º–æ–¥—É–ª—å —á–∞—Ç–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ chat-service.ts         # –û—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ providers/
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ gigachat-provider.ts
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ grafana-rag-provider.ts
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ combined-rag-provider.ts
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ supabase-db-provider.ts
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ types.ts
‚îÇ   ‚îú‚îÄ‚îÄ gigachat.ts                 # GigaChat API –∫–ª–∏–µ–Ω—Ç
‚îÇ   ‚îú‚îÄ‚îÄ grafana-docs.ts             # –ë–∞–∑–∞ –∑–Ω–∞–Ω–∏–π Grafana
‚îÇ   ‚îú‚îÄ‚îÄ grafana-docs-youtube.ts     # –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ç YouTube
‚îÇ   ‚îú‚îÄ‚îÄ youtube-transcript.ts       # –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ç–æ–≤
‚îÇ   ‚îî‚îÄ‚îÄ youtube-rag-provider.ts     # YouTube RAG –ø—Ä–æ–≤–∞–π–¥–µ—Ä
‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îú‚îÄ‚îÄ chat-interface.tsx          # UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —á–∞—Ç–∞
‚îÇ   ‚îî‚îÄ‚îÄ ui/                          # UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (shadcn/ui)
‚îî‚îÄ‚îÄ .env.local                       # –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
```

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã RAG

### –ß–µ—Ä–µ–∑ UI

1. –û—Ç–∫—Ä–æ–π—Ç–µ `http://localhost:3000`
2. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —á–∞—Ç-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –≤ –ø—Ä–∞–≤–æ–º –Ω–∏–∂–Ω–µ–º —É–≥–ª—É
3. –ó–∞–¥–∞–π—Ç–µ –≤–æ–ø—Ä–æ—Å—ã –∏–∑ —Ä–∞–∑–¥–µ–ª–∞ "–ü—Ä–æ–º–ø—Ç—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ RAG"
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞–ª–∏—á–∏–µ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ (sources) –≤ –æ—Ç–≤–µ—Ç–µ

### –ß–µ—Ä–µ–∑ API

```bash
curl -X POST http://localhost:3000/api/chat \
  -H "Content-Type: application/json" \
  -d '{"message": "–ö–∞–∫ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å PostgreSQL data source –≤ Grafana?"}'
```

### –ü—Ä–æ—Å–º–æ—Ç—Ä RAG —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ

1. –û—Ç–∫—Ä–æ–π—Ç–µ `http://localhost:3000/youtube-rag`
2. –ü—Ä–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –≤–∏–¥–µ–æ –∏ –∏—Ö —á–∞–Ω–∫–∏
3. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–æ–∏—Å–∫ –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –∫–æ–Ω—Ç–µ–Ω—Ç–∞

### API –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ RAG

```bash
# –°–ø–∏—Å–æ–∫ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –≤–∏–¥–µ–æ
curl http://localhost:3000/api/youtube/import

# –°–æ–¥–µ—Ä–∂–∏–º–æ–µ RAG
curl "http://localhost:3000/api/youtube/rag-content?limit=5"
```

## üéØ –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### 1. –ú–æ–¥—É–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

- –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π `chat-service` –º–æ–¥—É–ª—å
- –õ–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ RAG –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö AI –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤ —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

### 2. –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

- Fallback –Ω–∞ mock-–æ—Ç–≤–µ—Ç—ã –ø—Ä–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ GigaChat
- Graceful degradation –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö RAG
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏

### 3. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤ GigaChat
- –õ–µ–Ω–∏–≤–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è YouTube –≤–∏–¥–µ–æ
- –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–π –ø–æ–∏—Å–∫ –ø–æ –∏–Ω–¥–µ–∫—Å–∞–º

### 4. UX —É–ª—É—á—à–µ–Ω–∏—è

- Follow-up –≤–æ–ø—Ä–æ—Å—ã –¥–ª—è –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏—è –¥–∏–∞–ª–æ–≥–∞
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
- –ò—Å—Ç–æ—Ä–∏—è —á–∞—Ç–æ–≤ (—á–µ—Ä–µ–∑ Supabase)

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- [GigaChat API](https://developers.sber.ru/portal/products/gigachat)
- [Next.js Documentation](https://nextjs.org/docs)
- [Supabase Documentation](https://supabase.com/docs)


---

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –ü—Ä–æ–µ–∫—Ç –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π RAG –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –∑–Ω–∞–Ω–∏–π –≤ AI-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞.

